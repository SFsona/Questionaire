/* ===========================================
   SONA — Home Technology Budget Calculator
   Clean consolidated stylesheet
   =========================================== */

/* --------------------
   Theme & Typography
   -------------------- */
:root {
  --bg-gradient: linear-gradient(135deg, #1a1a1a 0%, #2b2b2b 45%, #0e0e0e 100%);
  --ink: #ffffff;
  --muted: rgba(255,255,255,0.72);
  --line: rgba(255,255,255,0.25);
  --radius: 30px;

  /* Adobe Fonts: Plantin family (from your Typekit) */
  --font-plantin: "plantin", serif;
  --font-light: var(--font-plantin);
  --font-regular: var(--font-plantin);
  --font-semibold: var(--font-plantin);
  --font-bold: var(--font-plantin);

  --font: var(--font-regular);
}

/* --------------
   Page baseline
   -------------- */
html, body {
  height: 100%;
  margin: 0;
  color: var(--ink);
  font-family: var(--font);
  font-weight: 400;
  background: var(--bg-gradient);
  overflow-x: hidden;
}

/* One “stage” that everything sits in */
.wrap {
  position: relative;
  width: 100%;
  height: 100svh;  /* mobile-safe viewport height */
  box-sizing: border-box;
  background: transparent;
}

/* -------------------------------------------
   Stages: Welcome / Wizard / Summary overlays
   ------------------------------------------- */
.welcome,
#wizard,
.summary {
  position: absolute;
  inset: 0;               /* fill the stage */
  display: grid;
  place-items: center;    /* perfect vertical + horizontal centering */
  padding: 0 20px;
  background: transparent !important;
  border: 0;
  box-shadow: none;

  transition: opacity .6s ease, transform .6s ease;
  will-change: opacity, transform;
}

.is-hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(6px);
}

/* Constrain inner width for all stages */
.welcome-inner,
.wizard,
.summary-inner,
#summary > div,
#wizard > div {
  width: min(720px, 100%);
  margin: 0 auto;
}

/* ---------
   Welcome
   --------- */
.sona-logo {
  width: clamp(140px, 18vw, 220px);
  height: auto;
  display: block;
  margin: 0 auto 28px auto;
  opacity: 0;
  transform: translateY(-10px) scale(0.98);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,0.4));
  animation: logoFadeIn 2.5s ease forwards;
  animation-delay: .2s;
}

.welcome .title {
  font-family: var(--font-light);
  font-weight: 300;
  font-size: clamp(30px, 3vw, 46px);
  margin-bottom: 16px;
  opacity: 0;
  transform: translateY(8px);
  animation: titleFadeIn 2.8s ease forwards;
  animation-delay: 1.6s;
  text-align: center;
}

.welcome .sub {
  font-family: var(--font-regular);
  font-weight: 400;
  font-size: 18px;
  color: var(--muted);
  margin-bottom: 36px;
  line-height: 1.5;
  opacity: 0;
  transform: translateY(8px);
  animation: subFadeIn 2.8s ease forwards;
  animation-delay: 2.8s;
  text-align: center;
}

/* Start button */
.start-btn,
.footer button {
  position: relative;
  overflow: hidden;
  background: transparent;
  color: var(--ink);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 10px 26px;
  font-size: 16px;
  cursor: pointer;
  transition: all .25s ease;
}

.start-btn:hover,
.footer button:hover {
  border-color: rgba(255,255,255,0.4);
  transform: translateY(-1px);
}

.start-btn:active,
.footer button:active {
  transform: translateY(0);
  opacity: .9;
}

/* Responsive tweaks for logo */
@media (max-width: 600px) {
  .sona-logo { width: clamp(120px, 40vw, 160px); margin-bottom: 22px; }
}
@media (min-width: 1400px) {
  .sona-logo { width: 240px; margin-bottom: 36px; }
}

/* Cinematic keyframes */
@keyframes logoFadeIn {
  0% { opacity: 0; transform: translateY(-10px) scale(0.98); }
  60% { opacity: 0.9; transform: translateY(0) scale(1); }
  100% { opacity: 0.95; transform: translateY(0) scale(1); }
}
@keyframes titleFadeIn {
  0% { opacity: 0; transform: translateY(8px); }
  40% { opacity: 0.7; transform: translateY(0); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes subFadeIn {
  0% { opacity: 0; transform: translateY(8px); }
  40% { opacity: 0.6; transform: translateY(0); }
  100% { opacity: 0.9; transform: translateY(0); }
}

/* -------
   Wizard
   ------- */
.wizard { text-align: center; }

.progress {
  margin-bottom: 20px;
  color: var(--muted);
  text-align: center;
}

/* Hide the Step X / Y pill */
.footer .pill { display: none !important; }

/* Step visibility */
.step {
  display: none;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity .5s ease, transform .5s ease;
}
.step.active {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

/* Question typography */
.q-title {
  font-family: var(--font-light);
  font-weight: 300;
  font-size: clamp(22px, 2.5vw, 30px);
  margin-bottom: 18px;
  text-align: center;
}
.q-help {
  font-family: var(--font-regular);
  font-weight: 400;
  color: var(--muted);
  font-size: 16px;
  margin-top: 8px;
  margin-bottom: 20px;
  text-align: center;
}

/* Inputs / selects / options */
.field {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin-bottom: 16px;
  flex-wrap: wrap; /* mobile safe */
}
.field input,
.field select {
  background: transparent;
  color: var(--ink);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 10px 16px;
  font-size: 16px;
  font-family: var(--font-regular);
  text-align: center;
  outline: none;
  appearance: none;
}
.field input:focus,
.field select:focus { border-color: rgba(255,255,255,.5); }

/* Options */
.opt-list {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.opt {
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 10px 18px;
  font-family: var(--font-regular);
  color: var(--ink);
  width: fit-content;
  cursor: pointer;
  transition: all .25s ease;
}
.opt:hover { border-color: rgba(255,255,255,.4); transform: translateY(-1px); }
.opt input { accent-color: white; transform: scale(1.2); }

/* Footer — Back left, Next right (with badge hidden) */
.footer {
  display: flex;
  justify-content: space-between;  /* back left / next right */
  align-items: center;
  border-top: 1px solid var(--line);
  padding-top: 20px;
  margin-top: 30px;
  width: 100%;
  max-width: 720px;
  margin-left: auto;
  margin-right: auto;
}

/* Button typography per request */
#btnBack {
  font-family: var(--font-light);
  font-weight: 300;
  letter-spacing: .02em;
}
#btnNext {
  font-family: var(--font-regular);
  font-weight: 400;
  letter-spacing: .02em;
}

/* -------------
   Mobile polish
   ------------- */
*,
*::before,
*::after { box-sizing: border-box; }

.welcome,
#wizard,
.summary {
  min-height: 100svh;
  max-width: 100vw;
  overflow: hidden;
}

/* Narrow screens: inputs full width */
@media (max-width: 480px) {
  .field input,
  .field select { width: 100%; max-width: 100%; }
}

/* Remove number input spinners */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; appearance: none; }

/* ------------
   Summary page
   ------------ */
.summary { text-align: left; }

/* Centered column grid for all summary blocks */
.summary > * {
  width: 100%;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box;
}

/* KPIs */
.kpis { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 20px; margin-bottom: 30px; }
.kpi { flex: 1 1 240px; }
.kpi .lab { font-family: var(--font-regular); font-weight: 400; font-size: 15px; color: var(--muted); }
.kpi .val { font-family: var(--font-bold); font-weight: 700; font-size: 26px; margin-top: 4px; }

/* Table alignment — use exact same column width */
#tblSys {
  display: table;
  width: 100%;
  max-width: 800px;
  margin: 0 auto 20px auto;
  border-collapse: collapse;
  table-layout: fixed;   /* prevents long labels pushing width */
  box-sizing: border-box;
}

/* Ensure TBODY uses proper table semantics (prevents overflow) */
#tblSys thead { display: table-header-group; }
#tblSys tbody { display: table-row-group; }
#tblSys tr    { display: table-row; }

/* Dynamic body safety reset */
#tbodySys {
  display: table-row-group;
  width: auto;
  max-width: none;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  overflow: visible;
}

#tblSys th,
#tblSys td {
  padding: 10px 16px;
  border-bottom: 1px solid rgba(255,255,255,0.15);
  text-align: left;
  vertical-align: middle;
  word-wrap: break-word;
}

/* Note alignment matches column */
.summary .note {
  max-width: 800px;
  margin: 0 auto;
  text-align: left;
  padding-left: 16px;
  padding-right: 16px;
  color: var(--muted);
  font-style: italic;
  font-size: 14px;
  line-height: 1.5;
}

/* ------------
   Accessibility
   ------------ */
@media (prefers-reduced-motion: reduce) {
  .welcome, #wizard, .summary, .step { transition: none !important; transform: none !important; }
}
